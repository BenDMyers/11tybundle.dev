---js
{
  eleventyComputed: {
    title: "{{ author[1] }} posts by {{ author[0] | safe }}",
    description: "Posts in the 11ty Bundle written by {{ author[0] }}",
    permalink: "/authors/{{ author[0] | cachedSlugify }}/",
  },
  pagination:  {
    data: "bundledata.authors",
    size: 1,
    alias: "author",
    addAllPagesToCollections: "true"
  }
}
---

<h1 title="{{ author[0] }}" data-pagefind-meta="title:{{ author[0] }} ({{ author[1] }} posts)">{{ title }}</h1>

{#
  While the title and dateline lend themselves to the use of macros, the description
  and categories list are a bit more complex. The description makes use of an async
  filter (and that is why I believe it does not work in a macro). The categories list
  uses a Nunjucks for loop as well as the slugify filter.
#}
<div class="bundleposts" data-pagefind-body>
  {% for item in bundledata.bundleRecords | postsByAuthor(author[0], 0) %}
  <div class="bundleitem">
    <h2 id="{{ author[0] | cachedSlugify }}-{{ item.Date }}" class="bundleitem-title" data-pagefind-weight="1"><a href="{{ item.Link }}" data-link-type="external">{{ item.Title }}</a></h2>
    {# {{ itemTitle(item.Title, item.Link, item.id) }} #}
    <p class="bundleitem-description">{{ item.Link | getDescription | truncate(100) }}</p>
    <p class="bundleitem-dateline"><a href="/authors/{{ item.Author | cachedSlugify }}/">{{ item.Author }}</a> &middot; {{ item.Date | formatItemDate }}</p>
    {# {{ itemDateline(item.Author, item.Date) }} #}
    <p class="bundleitem-categories">Categories: {% for category in item.Categories  | sort %}<a href="/categories/{{category | cachedSlugify }}/">{{ category }}</a>&nbsp;&nbsp;{% endfor %}</p>
  </div>
  {% endfor %}
</div>
